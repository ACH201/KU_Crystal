<!DOCTYPE html>
<html>
<head>
    <title>메인 페이지</title>
    <link rel="stylesheet" type="text/css" href="./others/css/main.css">
    <script src="https://cdn.jsdelivr.net/npm/danfojs@1.1.2/lib/bundle.min.js"></script>
</head>
<body>
    <div class="title-container">
      <div class="line">
        <span class="emphasis">건</span>
        <span class="normal">국대</span>
      </div>
      <div class="line">
        <span class="emphasis">수</span>
        <span class="normal">업의 모든</span>
      </div>
      <div class="line">
        <span class="emphasis">정</span>
        <span class="normal">보를 알려준다!</span>
      </div>
      </div>
    </div>
    <div class="btn-container">
      <div class="button" onclick="window.location.href='pages/empty_room.html';">
        <img src="rss/emptyroom.png" width="30" />
        <span class="button-text">빈 강의실 조회하기</span>
      </div>
      <div class="button" onclick="window.location.href='pages/room_timetable.html';">
        <img src="rss/roomtime.png" width="30" />
        <span class="button-text">강의실 일주일 시간표 조회하기</span>
      </div>
      <div class="button" onclick="window.location.href='pages/prof_timetable.html';">
        <img src="rss/prof.png" width="30" />
        <span class="button-text">교수님 일주일 시간표 조회하기</span>
      </div>
      <div class="button" onclick="window.location.href='pages/lecture_stat.html';">
        <img src="rss/stat.png" width="30" />
        <span class="button-text">시간표 강의 분포 확인하기</span>
      </div>
      <!-- Repeat for other buttons -->
    </div>
    <h3 id="credit">Project-X Konkuk 2진법</h3>

    <script>
        try {
            localStorage.clear()
            const df = await dfd.readCSV("https://raw.githubusercontent.com/ACH201/KU_Crystal/main/database/LectureTable.csv"); // CSV 파일을 DataFrame으로 읽기
            // DataFrame을 JSON 문자열로 직접 변환하여 local storage에 'DataTable' 키로 저장
            const dfJSON = dfd.toJSON(df, { format: 'row' }); // DataFrame을 JSON 문자열로 변환                    
            localStorage.setItem(csvFileName, JSON.stringify(dfJSON));
            
            // Optional: 저장 후 콘솔에 메시지 출력
            console.log('CSV 파일이 local storage에 저장되었습니다.');
            df.print();
            window.df = df;
            df.asType('학년', 'string')

            document.querySelector('#filename').innerHTML = '입력된 파일명: ' + csvFileName
        } catch (error) {
            console.error('파일을 읽는 중 오류가 발생했습니다:', error);
        }
    </script>
</body>
</html>
